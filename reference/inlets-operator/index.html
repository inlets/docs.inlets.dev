
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Inlets Secure Tunnels From Dev to Cloud">
      
      
        <meta name="author" content="OpenFaaS Ltd">
      
      
        <link rel="canonical" href="https://docs.inlets.dev/reference/inlets-operator/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../inletsctl/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Inlets Operator - Inlets</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto,+Helvetica:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto, Helvetica";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-MVH8L09LKP"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-MVH8L09LKP",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-MVH8L09LKP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#inlets-operator-reference-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Inlets" class="md-header__button md-logo" aria-label="Inlets" data-md-component="logo">
      
  <img src="../../images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Inlets
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Inlets Operator
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/inlets" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    inlets/inlets
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Inlets

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../uplink/" class="md-tabs__link">
          
  
  Inlets Uplink

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cloud/" class="md-tabs__link">
          
  
  Inlets Cloud

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Inlets" class="md-nav__button md-logo" aria-label="Inlets" data-md-component="logo">
      
  <img src="../../images/logo.svg" alt="logo">

    </a>
    Inlets
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/inlets" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    inlets/inlets
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Inlets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Inlets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HTTP Tunnels
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            HTTP Tunnels
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/automated-http-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a tunnel server with inletsctl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/manual-http-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a tunnel server manually
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/http-header-modification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modify HTTP headers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/http-authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authenticate HTTPs tunnels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/dual-tunnels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enable dual TCP and HTTPs tunnels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inlets.dev/blog/2021/09/09/compose-and-inlets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Compose (blog)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community tutorials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TCP tunnels
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            TCP tunnels
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/automated-tcp-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a tunnel server with inletsctl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/manual-tcp-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a tunnel server manually
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/caddy-http-tunnel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expose Caddy from your private network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/local-port-forwarding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Local port forwarding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/ssh-tcp-tunnel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expose SSH
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/postgresql-tcp-tunnel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expose Postgresql
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/kubernetes-tcp-loadbalancer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a TCP LoadBalancer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/kubernetes-generate-yaml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generate YAML for a tunnel client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/kubernetes-ingress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes Ingress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/kubernetes-api-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes API Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/istio-gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Istio Gateway
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inlets.dev/blog/2021/04/13/local-port-forwarding-kubernetes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reliable local port forwarding (blog)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inlets.dev/blog/2022/08/10/managing-tunnel-servers-with-argocd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manage private clusters with ArgoCD (blog)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/inlets/inlets-pro/tree/master/chart" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helm charts (GitHub)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/monitoring-and-metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring and metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/ip-filtering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IP filtering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inlets.dev/blog/2021/12/06/private-deploy-from-github-actions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions (blog)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Inlets Uplink
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Inlets Uplink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/create-tunnels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a tunnel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/connect-tunnel-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connect the tunnel client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/private-tunnels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Access tunnels privately
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/expose-tunnels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expose tunnels publicly
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/manage-tunnels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manage tunnels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/monitoring-tunnels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitor tunnels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/rest-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uplink/tutorials/argo-cd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote cluster management with ArgoCD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Inlets Cloud
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Inlets Cloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/security-groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security Groups
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Inlets Operator
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Inlets Operator
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tunnel-custom-resource-definition-crd-and-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      Tunnel Custom Resource Definition (CRD) and lifecycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tunnel Custom Resource Definition (CRD) and lifecycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#working-with-another-loadbalancer" class="md-nav__link">
    <span class="md-ellipsis">
      Working with another LoadBalancer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-inlets-operator-using-arkade" class="md-nav__link">
    <span class="md-ellipsis">
      Install inlets-operator using arkade
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-inlets-operator-using-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Install inlets-operator using helm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instructions-per-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Instructions per cloud
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instructions per cloud">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-digitalocean" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on DigitalOcean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-aws-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on AWS EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-google-compute-engine-gce" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Google Compute Engine (GCE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-hetzner" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Hetzner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-azure" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Azure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-linode" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Linode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inletsctl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    inletsctl
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tunnel-custom-resource-definition-crd-and-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      Tunnel Custom Resource Definition (CRD) and lifecycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tunnel Custom Resource Definition (CRD) and lifecycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#working-with-another-loadbalancer" class="md-nav__link">
    <span class="md-ellipsis">
      Working with another LoadBalancer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-inlets-operator-using-arkade" class="md-nav__link">
    <span class="md-ellipsis">
      Install inlets-operator using arkade
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-inlets-operator-using-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Install inlets-operator using helm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instructions-per-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Instructions per cloud
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instructions per cloud">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-digitalocean" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on DigitalOcean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-aws-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on AWS EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-google-compute-engine-gce" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Google Compute Engine (GCE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-hetzner" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Hetzner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-azure" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Azure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tunnel-servers-on-linode" class="md-nav__link">
    <span class="md-ellipsis">
      Create tunnel servers on Linode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="inlets-operator-reference-documentation">inlets-operator reference documentation<a class="headerlink" href="#inlets-operator-reference-documentation" title="Permanent link">&para;</a></h1>
<p>The <a href="https://github.com/inlets/inlets-operator">inlets/inlets-operator</a> brings LoadBalancers with public IP addresses to your local Kubernetes clusters.</p>
<blockquote>
<p>It works by creating VMs and running an inlets Pro tunnel server for you, the VM's public IP is then attached to the cluster and an inlets client Pod runs for you.</p>
</blockquote>
<p>For each provider, the minimum requirements tend to be:</p>
<ul>
<li>An access token - for the operator to create VMs for inlets Pro servers</li>
<li>A region - where to create the VMs</li>
</ul>
<p><strong>Helm or Arkade?</strong></p>
<p>You can install the inlets-operator's Helm chart using a single command with <a href="https://arkade.dev/">arkade</a>. arkade is an open-source Kubernetes marketplace and easy to use. Helm involves more commands, and is preferred by power users.</p>
<blockquote>
<p><a href="https://inlets.dev/pricing">Get your inlets subscription here</a></p>
</blockquote>
<h2 id="tunnel-custom-resource-definition-crd-and-lifecycle">Tunnel Custom Resource Definition (CRD) and lifecycle<a class="headerlink" href="#tunnel-custom-resource-definition-crd-and-lifecycle" title="Permanent link">&para;</a></h2>
<p>The inlets-operator uses a custom resource definition (CRD) to create tunnels. The CRD is called <code>Tunnel</code> and its full name is <code>tunnels.operator.inlets.dev</code></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>tunnels<span class="w"> </span>-n<span class="w"> </span>default
NAMESPACE<span class="w">   </span>NAME<span class="w">             </span>SERVICE<span class="w">   </span>HOSTSTATUS<span class="w">   </span>HOSTIP<span class="w">        </span>CREATED
default<span class="w">     </span>nginx-1-tunnel<span class="w">   </span>nginx-1<span class="w">   </span>active<span class="w">       </span><span class="m">46</span>.101.1.67<span class="w">   </span>2m45s
</code></pre></div>
<p>The CRD can be used to view and monitor tunnels. The <code>HOSTSTATUS</code> field shows the status of the tunnel, and the <code>HOSTIP</code> field shows the public IP address of the tunnel.</p>
<p>The tunnel's IP address will also be written directly to any <code>Service</code> with a type of <code>LoadBalancer</code>.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>default
NAME<span class="w">         </span>TYPE<span class="w">           </span>CLUSTER-IP<span class="w">    </span>EXTERNAL-IP<span class="w">               </span>PORT<span class="o">(</span>S<span class="o">)</span><span class="w">        </span>AGE
kubernetes<span class="w">   </span>ClusterIP<span class="w">      </span><span class="m">10</span>.96.0.1<span class="w">     </span>&lt;none&gt;<span class="w">                    </span><span class="m">443</span>/TCP<span class="w">        </span>6m26s
nginx-1<span class="w">      </span>LoadBalancer<span class="w">   </span><span class="m">10</span>.96.94.18<span class="w">   </span><span class="m">46</span>.101.1.67,46.101.1.67<span class="w">   </span><span class="m">80</span>:31194/TCP<span class="w">   </span>4m21s
</code></pre></div>
<p>The lifecycle of a tunnel is tied to the Service in Kubernetes.</p>
<p>To delete a tunnel permanently, you can delete the Service:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>delete<span class="w"> </span>svc<span class="w"> </span>nginx-1
</code></pre></div>
<p>To have the tunnel server re-created, you can delete the tunnel CustomResource, this causes the operator to re-create the tunnel:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>delete<span class="w"> </span>tunnel<span class="w"> </span>nginx-1-tunnel
</code></pre></div>
<p>Bear in mind that if you delete your cluster before you delete the LoadBalancer service, then the inlets-operator will have no way to remove the tunnel servers that have been created for you. Therefore, you should always delete the LoadBalancer service before deleting the cluster. If you should forget, and delete your K3s or KinD cluster, then you can go into your cloud account and delete the VMs manually.</p>
<p>As a rule, the name of the VM will match the name of the service in Kubernetes.</p>
<h3 id="working-with-another-loadbalancer">Working with another LoadBalancer<a class="headerlink" href="#working-with-another-loadbalancer" title="Permanent link">&para;</a></h3>
<p>If you're running metal-lb or kube-vip to provide local IP addresses for LoadBalancer services, then you can annotate the services you wish to expose to the Internet with <code>operator.inlets.dev/manage=1</code>, then set <code>annotatedOnly: true</code> in the inlets-operator Helm chart.</p>
<h2 id="install-inlets-operator-using-arkade">Install inlets-operator using arkade<a class="headerlink" href="#install-inlets-operator-using-arkade" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">REGION</span><span class="o">=</span>lon1
<span class="nb">export</span><span class="w"> </span><span class="nv">PROVIDER</span><span class="o">=</span>digitalocean

arkade<span class="w"> </span>install<span class="w"> </span>inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--provider<span class="w"> </span><span class="nv">$PROVIDER</span><span class="w"> </span><span class="se">\ </span><span class="c1"># Name of the cloud provider to provision the exit-node on.</span>
<span class="w"> </span>--region<span class="w"> </span><span class="nv">$REGION</span><span class="w"> </span><span class="se">\ </span><span class="c1"># Used with cloud providers that require a region.</span>
<span class="w"> </span>--token-file<span class="w"> </span><span class="nv">$HOME</span>/Downloads/do-access-token.txt<span class="w"> </span><span class="c1"># Token file/Service Account Key file with the access to the cloud provider.</span>
</code></pre></div>
<h2 id="install-inlets-operator-using-helm">Install inlets-operator using helm<a class="headerlink" href="#install-inlets-operator-using-helm" title="Permanent link">&para;</a></h2>
<p>The following instructions are a generic example, you should refer to each specific heading to understand how to create the required API keys for a given cloud provider.</p>
<ul>
<li>Some providers require an access key, others also need a secret key.</li>
<li>Some providers only use a region, others use a zone and projectID too.</li>
<li>There are additional flags you can set via values.yaml or the <code>--set</code> flag.</li>
</ul>
<p>You can view the <a href="https://github.com/inlets/inlets-operator/tree/master/chart/inlets-operator">inlets-operator chart on GitHub</a> to learn more.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create a namespace for inlets-operator</span>
kubectl<span class="w"> </span>create<span class="w"> </span>namespace<span class="w"> </span>inlets

<span class="c1"># Create a secret to store the service account key file</span>
kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>inlets-access-key<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>inlets<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--from-file<span class="w"> </span>inlets-access-key<span class="o">=</span><span class="nv">$HOME</span>/Downloads/do-access-token.txt

<span class="c1"># Create a secret to store the inlets-pro license</span>
kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>inlets<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>inlets-license<span class="w"> </span>--from-file<span class="w"> </span><span class="nv">license</span><span class="o">=</span><span class="nv">$HOME</span>/.inlets/LICENSE

<span class="c1"># Add and update the inlets-operator helm repo</span>
<span class="c1"># You only need to do this once.</span>
helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>inlets<span class="w"> </span>https://inlets.github.io/inlets-operator/

<span class="nb">export</span><span class="w"> </span><span class="nv">REGION</span><span class="o">=</span>lon1
<span class="nb">export</span><span class="w"> </span><span class="nv">PROVIDER</span><span class="o">=</span>digitalocean

<span class="c1"># Update the Helm repository and perform an installation</span>
helm<span class="w"> </span>repo<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>helm<span class="w"> </span>upgrade<span class="w"> </span>inlets-operator<span class="w"> </span>--install<span class="w"> </span>inlets/inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>inlets<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span><span class="nv">provider</span><span class="o">=</span><span class="nv">$PROVIDER</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span><span class="nv">region</span><span class="o">=</span><span class="nv">$REGION</span>
</code></pre></div>
<h2 id="instructions-per-cloud">Instructions per cloud<a class="headerlink" href="#instructions-per-cloud" title="Permanent link">&para;</a></h2>
<h3 id="create-tunnel-servers-on-digitalocean">Create tunnel servers on DigitalOcean<a class="headerlink" href="#create-tunnel-servers-on-digitalocean" title="Permanent link">&para;</a></h3>
<p>The <a href="https://m.do.co/c/8d4e75e9886f">DigitalOcean</a> provider is fast, cost effective and easy to set it. It's recommended for most users.</p>
<p>Create an API access token with full read/write permissions and save it to: <code>$HOME/Downloads/do-access-token.txt</code>.</p>
<p>Now, install the chart with arkade using the above options:</p>
<div class="highlight"><pre><span></span><code>arkade<span class="w"> </span>install<span class="w"> </span>inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--provider<span class="w"> </span>digitalocean<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--region<span class="w"> </span>lon1<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--token-file<span class="w"> </span><span class="nv">$HOME</span>/Downloads/do-access-token.txt
</code></pre></div>
<p>If you have the DigitalOcean CLI (<code>doctl</code>) installed, then you can use it to list available regions and their codes to input into the above command. Bear in mind that some regions are showing no availability for starting new VMs.</p>
<div class="highlight"><pre><span></span><code>doctl<span class="w"> </span>compute<span class="w"> </span>region<span class="w"> </span>ls
Slug<span class="w">    </span>Name<span class="w">               </span>Available
nyc1<span class="w">    </span>New<span class="w"> </span>York<span class="w"> </span><span class="m">1</span><span class="w">         </span><span class="nb">true</span>
sfo1<span class="w">    </span>San<span class="w"> </span>Francisco<span class="w"> </span><span class="m">1</span><span class="w">    </span><span class="nb">false</span>
nyc2<span class="w">    </span>New<span class="w"> </span>York<span class="w"> </span><span class="m">2</span><span class="w">         </span><span class="nb">false</span>
ams2<span class="w">    </span>Amsterdam<span class="w"> </span><span class="m">2</span><span class="w">        </span><span class="nb">false</span>
sgp1<span class="w">    </span>Singapore<span class="w"> </span><span class="m">1</span><span class="w">        </span><span class="nb">true</span>
lon1<span class="w">    </span>London<span class="w"> </span><span class="m">1</span><span class="w">           </span><span class="nb">true</span>
nyc3<span class="w">    </span>New<span class="w"> </span>York<span class="w"> </span><span class="m">3</span><span class="w">         </span><span class="nb">true</span>
ams3<span class="w">    </span>Amsterdam<span class="w"> </span><span class="m">3</span><span class="w">        </span><span class="nb">true</span>
fra1<span class="w">    </span>Frankfurt<span class="w"> </span><span class="m">1</span><span class="w">        </span><span class="nb">true</span>
tor1<span class="w">    </span>Toronto<span class="w"> </span><span class="m">1</span><span class="w">          </span><span class="nb">true</span>
sfo2<span class="w">    </span>San<span class="w"> </span>Francisco<span class="w"> </span><span class="m">2</span><span class="w">    </span><span class="nb">true</span>
blr1<span class="w">    </span>Bangalore<span class="w"> </span><span class="m">1</span><span class="w">        </span><span class="nb">true</span>
sfo3<span class="w">    </span>San<span class="w"> </span>Francisco<span class="w"> </span><span class="m">3</span><span class="w">    </span><span class="nb">true</span>
syd1<span class="w">    </span>Sydney<span class="w"> </span><span class="m">1</span><span class="w">           </span><span class="nb">true</span>
</code></pre></div>
<h3 id="create-tunnel-servers-on-aws-ec2">Create tunnel servers on AWS EC2<a class="headerlink" href="#create-tunnel-servers-on-aws-ec2" title="Permanent link">&para;</a></h3>
<p>Instructions for <a href="https://aws.amazon.com/ec2/">AWS EC2</a></p>
<p>To use the instructions below you must have the AWS CLI configured with sufficient permissions to create users and roles.</p>
<ul>
<li>Create a AWS IAM Policy with the following:</li>
</ul>
<p>Create a file named <code>policy.json</code> with the following content</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2012-10-17&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Statement&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;ec2:AuthorizeSecurityGroupIngress&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:DescribeInstances&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:DescribeImages&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:TerminateInstances&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:CreateSecurityGroup&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:CreateTags&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:DeleteSecurityGroup&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:RunInstances&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ec2:DescribeInstanceStatus&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Create the policy in AWS</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>iam<span class="w"> </span>create-policy<span class="w"> </span>--policy-name<span class="w"> </span>inlets-automation<span class="w"> </span>--policy-document<span class="w"> </span>file://policy.json
</code></pre></div>
<ul>
<li>Create an IAM user</li>
</ul>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>iam<span class="w"> </span>create-user<span class="w"> </span>--user-name<span class="w"> </span>inlets-automation
</code></pre></div>
<ul>
<li>Add the Policy to the IAM user</li>
</ul>
<p>We need to use the policy arn generated above, it should have been printed to the console on success. It also follows the format below.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_ACCOUNT_NUMBER</span><span class="o">=</span><span class="s2">&quot;Your AWS Account Number&quot;</span>
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>inlets-automation<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::<span class="si">${</span><span class="nv">AWS_ACCOUNT_NUMBER</span><span class="si">}</span>:policy/inlets-automation
</code></pre></div>
<ul>
<li>Generate an access key for your IAM User</li>
</ul>
<p>The below commands will create a set of credentials and save them into files for use later on.</p>
<blockquote>
<p>we are using <a href="https://stedolan.github.io/jq/">jq</a> here. It can be installed using the link provided.
Alternatively you can print ACCESS_KEY_JSON and create the files manually.</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nv">ACCESS_KEY_JSON</span><span class="o">=</span><span class="k">$(</span>aws<span class="w"> </span>iam<span class="w"> </span>create-access-key<span class="w"> </span>--user-name<span class="w"> </span>inlets-automation<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$ACCESS_KEY_JSON</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span>.AccessKey.AccessKeyId<span class="w"> </span>&gt;<span class="w"> </span>~/Downloads/aws-access-key
<span class="nb">echo</span><span class="w"> </span><span class="nv">$ACCESS_KEY_JSON</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span>.AccessKey.SecretAccessKey<span class="w"> </span>&gt;<span class="w"> </span>~/Downloads/aws-secret-access-key
</code></pre></div>
<p>Install the chart with arkade using the above options:</p>
<div class="highlight"><pre><span></span><code>arkade<span class="w"> </span>install<span class="w"> </span>inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--provider<span class="w"> </span>ec2<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--region<span class="w"> </span>eu-west-1<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--token-file<span class="w"> </span><span class="nv">$HOME</span>/Downloads/aws-access-key<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>--secret-key-file<span class="w"> </span><span class="nv">$HOME</span>/Downloads/aws-secret-access-key
</code></pre></div>
<h3 id="create-tunnel-servers-on-google-compute-engine-gce">Create tunnel servers on Google Compute Engine (GCE)<a class="headerlink" href="#create-tunnel-servers-on-google-compute-engine-gce" title="Permanent link">&para;</a></h3>
<p>Instructions for <a href="https://cloud.google.com/compute">Google Cloud</a></p>
<p>It is assumed that you have gcloud installed and configured on your machine.
If not, then follow the instructions <a href="https://cloud.google.com/sdk/docs/quickstarts">here</a></p>
<p>To get your service account key file, follow the steps below:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Get current projectID</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PROJECTID</span><span class="o">=</span><span class="k">$(</span>gcloud<span class="w"> </span>config<span class="w"> </span>get-value<span class="w"> </span>core/project<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>

<span class="c1"># Create a service account</span>
gcloud<span class="w"> </span>iam<span class="w"> </span>service-accounts<span class="w"> </span>create<span class="w"> </span>inlets<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--description<span class="w"> </span><span class="s2">&quot;inlets-operator service account&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--display-name<span class="w"> </span><span class="s2">&quot;inlets&quot;</span>

<span class="c1"># Get service account email</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SERVICEACCOUNT</span><span class="o">=</span><span class="k">$(</span>gcloud<span class="w"> </span>iam<span class="w"> </span>service-accounts<span class="w"> </span>list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>inlets<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="k">)</span>

<span class="c1"># Assign appropriate roles to inlets service account</span>
gcloud<span class="w"> </span>projects<span class="w"> </span>add-iam-policy-binding<span class="w"> </span><span class="nv">$PROJECTID</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--member<span class="w"> </span>serviceAccount:<span class="nv">$SERVICEACCOUNT</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--role<span class="w"> </span>roles/compute.admin

gcloud<span class="w"> </span>projects<span class="w"> </span>add-iam-policy-binding<span class="w"> </span><span class="nv">$PROJECTID</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--member<span class="w"> </span>serviceAccount:<span class="nv">$SERVICEACCOUNT</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--role<span class="w"> </span>roles/iam.serviceAccountUser

<span class="c1"># Create inlets service account key file</span>
gcloud<span class="w"> </span>iam<span class="w"> </span>service-accounts<span class="w"> </span>keys<span class="w"> </span>create<span class="w"> </span>key.json<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--iam-account<span class="w"> </span><span class="nv">$SERVICEACCOUNT</span>
</code></pre></div>
<p>Install the chart with arkade using the above options:</p>
<div class="highlight"><pre><span></span><code>arkade<span class="w"> </span>install<span class="w"> </span>inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--provider<span class="w"> </span>gce<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--project-id<span class="w"> </span><span class="nv">$PROJECTID</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--zone<span class="w"> </span>us-central1-a<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--token-file<span class="w"> </span>key.json
</code></pre></div>
<h3 id="create-tunnel-servers-on-hetzner">Create tunnel servers on Hetzner<a class="headerlink" href="#create-tunnel-servers-on-hetzner" title="Permanent link">&para;</a></h3>
<p>Create an API key with read/write access, save it to ~/hetzner.txt.</p>
<div class="highlight"><pre><span></span><code>arkade<span class="w"> </span>install<span class="w"> </span>inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--provider<span class="w"> </span>hetzner<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--region<span class="w"> </span>eu-central<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--token-file<span class="w"> </span>~/hetzner.txt
</code></pre></div>
<h3 id="create-tunnel-servers-on-azure">Create tunnel servers on Azure<a class="headerlink" href="#create-tunnel-servers-on-azure" title="Permanent link">&para;</a></h3>
<p>Instructions for <a href="https://azure.com">Azure</a></p>
<p>Prerequisites:</p>
<ul>
<li>You will need <code>az</code>. See <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli">Install the Azure CLI</a></li>
<li>You'll need to have run <code>az login</code> also</li>
</ul>
<p>Generate Azure authentication file:</p>
<div class="highlight"><pre><span></span><code><span class="nv">SUBSCRIPTION_ID</span><span class="o">=</span><span class="s2">&quot;YOUR_SUBSCRIPTION_ID&quot;</span>
az<span class="w"> </span>ad<span class="w"> </span>sp<span class="w"> </span>create-for-rbac<span class="w"> </span>--role<span class="w"> </span>Contributor<span class="w"> </span>--scopes<span class="w"> </span><span class="s2">&quot;/subscriptions/</span><span class="nv">$SUBSCRIPTION_ID</span><span class="s2">&quot;</span><span class="w"> </span>--sdk-auth<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>&gt;<span class="w"> </span><span class="nv">$HOME</span>/Downloads/client_credentials.json
</code></pre></div>
<p>Find your region code with:</p>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>account<span class="w"> </span>list-locations<span class="w"> </span>-o<span class="w"> </span>table

DisplayName<span class="w">               </span>Name<span class="w">                 </span>RegionalDisplayName
------------------------<span class="w">  </span>-------------------<span class="w">  </span>-------------------------------------
United<span class="w"> </span>Kingdom<span class="w">            </span>ukwest<span class="w">               </span>United<span class="w"> </span>Kingdom
</code></pre></div>
<p>Install using helm:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SUBSCRIPTION_ID</span><span class="o">=</span><span class="s2">&quot;YOUR_SUBSCRIPTION_ID&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">AZURE_REGION</span><span class="o">=</span><span class="s2">&quot;ukwest&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">INLETS_LICENSE</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>cat<span class="w"> </span>~/.inlets/LICENSE<span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ACCESS_KEY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/Downloads/client_credentials.json&quot;</span>

kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>inlets-access-key<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--from-file<span class="o">=</span>inlets-access-key<span class="o">=</span><span class="nv">$ACCESS_KEY</span>

helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>inlets<span class="w"> </span>https://inlets.github.io/inlets-operator/
helm<span class="w"> </span>repo<span class="w"> </span>update

helm<span class="w"> </span>upgrade<span class="w"> </span>inlets-operator<span class="w"> </span>--install<span class="w"> </span>inlets/inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span><span class="nv">provider</span><span class="o">=</span>azure,region<span class="o">=</span><span class="nv">$AZURE_REGION</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span><span class="nv">subscriptionID</span><span class="o">=</span><span class="nv">$SUBSCRIPTION_ID</span>
</code></pre></div>
<h3 id="create-tunnel-servers-on-linode">Create tunnel servers on Linode<a class="headerlink" href="#create-tunnel-servers-on-linode" title="Permanent link">&para;</a></h3>
<p>Instructions for <a href="https://linode.com">Linode</a></p>
<p>Install using helm:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create a secret to store the service account key file</span>
kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>inlets-access-key<span class="w"> </span>--from-literal<span class="w"> </span>inlets-access-key<span class="o">=</span>&lt;Linode<span class="w"> </span>API<span class="w"> </span>Access<span class="w"> </span>Key&gt;

<span class="c1"># Add and update the inlets-operator helm repo</span>
helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>inlets<span class="w"> </span>https://inlets.github.io/inlets-operator/

helm<span class="w"> </span>repo<span class="w"> </span>update

<span class="c1"># Install inlets-operator with the required fields</span>
helm<span class="w"> </span>upgrade<span class="w"> </span>inlets-operator<span class="w"> </span>--install<span class="w"> </span>inlets/inlets-operator<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span><span class="nv">provider</span><span class="o">=</span>linode<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span><span class="nv">region</span><span class="o">=</span>us-east
</code></pre></div>
<p>You can also install the inlets-operator using a single command using <a href="https://arkade.dev/">arkade</a>, arkade runs against any Kubernetes cluster.</p>
<p>Install the chart with arkade using the above options:</p>
<p><code>bash
arkade install inlets-operator \
 --provider linode \
 --region us-east \
 --access-key $LINODE_ACCESS_KEY</code></p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 OpenFaaS Ltd

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>